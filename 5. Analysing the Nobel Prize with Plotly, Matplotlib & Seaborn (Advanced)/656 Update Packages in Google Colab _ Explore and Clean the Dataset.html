<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p><strong>Using Google Colab?&nbsp;-&gt;&nbsp;Upgrade plotly </strong></p><p>Google Colab comes with a lot of Python packages pre-installed and working. However, you can also install new packages as well as upgrade existing packages. In our case, the plotly package is outdated and will cause a problem with our starburst chart. Here's how to updated a package in Google Colab:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-20_10-48-06-906d5f7f29d10c2385370daad3032c87.gif"></figure><p>Uncomment the cell with the pip install command. Run the cell. And then comment the code out again. </p><p><br></p><h4>Challenge 1</h4><p>Preliminary data exploration.</p><ul><li><p>What is the shape of <code>df_data</code>? How many rows and columns?</p></li><li><p>What are the column names and what kind of data is inside of them?</p></li><li><p>In which year was the Nobel prize first awarded?</p></li><li><p>Which year is the latest year included in the dataset?</p></li></ul><h4>Challenge 2</h4><ul><li><p>Are there any duplicate values in the dataset?</p></li><li><p>Are there NaN values in the dataset?</p></li><li><p>Which columns tend to have NaN values?</p></li><li><p>How many NaN values are there per column?</p></li><li><p>Why do these columns have NaN values?</p></li></ul><h4>Challenge 3</h4><ul><li><p>Convert the <code>birth_date</code> column to Pandas <code>Datetime</code> objects</p></li><li><p>Add a Column called <code>share_pct</code> which has the laureates' share as a percentage in the form of a floating-point number.</p></li></ul><p><br></p><p>.</p><p>.</p><p>..</p><p>...</p><p>..</p><p>.</p><p>.</p><p><br></p><p><strong>Solution 1:&nbsp;Preliminary Data Exploration</strong></p><p>When we run <code>df_data.shape</code>, <code>df_data.tail()</code>, and <code>df_data.head()</code>, we see that there are 962 rows and 16 columns. The first Nobel prizes were awarded in 1901 and the data goes up to 2020. </p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-20_11-00-28-1798f7e1537c4a5e3a5197eb6411a12b.png"></figure><p>We notice that the columns contain the following information: </p><p><strong>birth_date</strong>: date in string format</p><p><strong>motivation</strong>:&nbsp;description of what the prize is for</p><p><strong>prize_share</strong>:&nbsp;given as a fraction</p><p><strong>laureate_type:&nbsp;</strong>individual or organisation</p><p><strong>birth_country</strong>:&nbsp;has countries that no longer exist</p><p><strong>birth_country_current</strong>:&nbsp;current name of the country where the birth city is located</p><p><strong>ISO: </strong>three-letter international country code</p><p><strong>organization_name</strong>: research institution where the discovery was made</p><p><strong>organization_city:&nbsp;</strong>location of the institution</p><p><br></p><p><strong>Solution 2:&nbsp;NaN&nbsp;values</strong></p><p>There are no duplicates in the dataset:</p><pre class="prettyprint linenums">print(f'Any duplicates? {df_data.duplicated().values.any()}')</pre><p>However, there are a number of NaN&nbsp;values</p><pre class="prettyprint linenums">print(f'Any NaN values among the data? {df_data.isna().values.any()}')</pre><p>We can get a count of the NaN&nbsp;values per column using </p><pre class="prettyprint linenums">df_data.isna().sum()</pre><figure><img height="310" src="https://img-c.udemycdn.com/redactor/raw/2020-10-20_11-10-39-9f5107ed7f79742d98c60af382a4a4e7.png" width="518"></figure><p>Why are there so many NaN&nbsp;values for the birth date?&nbsp;And why are there so many missing values among the organisation columns?</p><p>Filtering on the NaN&nbsp;values in the birth date column we see that we get back a bunch of organisations, like the UN or the Red Cross. </p><pre class="prettyprint linenums">col_subset = ['year','category', 'laureate_type',<br>              'birth_date','full_name', 'organization_name']<br>df_data.loc[df_data.birth_date.isna()][col_subset]</pre><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-20_11-24-58-ca4ff85fc797f3662c8ed33c9ac7b481.png"></figure><p>That makes sense. We also see that since the organisation's name is in the full_name column, the organisation_name column contains NaN. </p><p>In addition, when we look at for rows where the organization_name column has no value, we also see that many prizes went to people who were not affiliated with a university or research institute. This includes many of the Literature and Peace prize winners.</p><pre class="prettyprint linenums">col_subset = ['year','category', 'laureate_type','full_name', 'organization_name']<br>df_data.loc[df_data.organization_name.isna()][col_subset]</pre><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-20_11-26-52-390f5c9ddbfce24588ff4f6a59ad1028.png"></figure><p><br></p><p><strong>Solution 3:&nbsp;Type Conversions</strong></p><p>We can use pandas to convert the birth_date to a Datetime object with a single line:</p><pre class="prettyprint linenums">df_data.birth_date = pd.to_datetime(df_data.birth_date)</pre><p>Adding a column that contains the percentage share as first requires that we split the string on the forward slash. Then we can convert to a number. And finally, we can do the division.</p><pre class="prettyprint linenums">separated_values = df_data.prize_share.str.split('/', expand=True)<br>numerator = pd.to_numeric(separated_values[0])<br>denomenator = pd.to_numeric(separated_values[1])<br>df_data['share_pct'] = numerator / denomenator</pre><p>Now we can check if our type conversions were successful:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-20_11-32-10-f5d62149b40ac16398ffdbdf516c5530.png"></figure></p></div></div></div></body></html>